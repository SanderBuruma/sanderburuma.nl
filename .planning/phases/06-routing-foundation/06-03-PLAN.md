---
phase: 06-routing-foundation
plan: 03
type: execute
wave: 3
depends_on: ["06-01", "06-02"]
files_modified:
  - src/App.jsx
  - src/pages/BlogIndex.jsx
  - src/pages/BlogPost.jsx
  - src/pages/Blog404.jsx
  - src/components/RouteTransition.jsx
  - src/styles/styles.scss
autonomous: false

must_haves:
  truths:
    - "User sees blog index page at /blog with BlogNavbar"
    - "User sees blog post page at /blog/:slug with BlogNavbar"
    - "User sees friendly 404 page for invalid /blog/* URLs"
    - "User sees brief loading indicator during route transitions"
    - "Page scrolls to top when navigating between routes"
  artifacts:
    - path: "src/pages/BlogIndex.jsx"
      provides: "Blog index placeholder page with BlogNavbar"
      min_lines: 20
    - path: "src/pages/BlogPost.jsx"
      provides: "Blog post placeholder page with BlogNavbar"
      min_lines: 20
    - path: "src/pages/Blog404.jsx"
      provides: "Blog-specific 404 page with friendly message"
      min_lines: 15
    - path: "src/components/RouteTransition.jsx"
      provides: "Loading indicator wrapper for route transitions"
      min_lines: 20
  key_links:
    - from: "src/pages/BlogIndex.jsx"
      to: "src/components/BlogNavbar.jsx"
      via: "import and render"
      pattern: "import BlogNavbar"
    - from: "src/App.jsx"
      to: "src/pages/BlogIndex.jsx"
      via: "Route element"
      pattern: "Route.*path=.*blog.*element"
---

<objective>
Create blog page shells with proper navigation, 404 handling, and route transitions to complete the routing foundation.

Purpose: Users need actual pages to land on when navigating to blog routes. The transition indicator gives the "page-load feel" requested by the user, and scroll-to-top ensures predictable navigation behavior.

Output: BlogIndex, BlogPost, and Blog404 pages using BlogNavbar, plus RouteTransition wrapper for loading states.
</objective>

<execution_context>
@/home/sanderburuma/.claude/get-shit-done/workflows/execute-plan.md
@/home/sanderburuma/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/06-routing-foundation/06-CONTEXT.md
@.planning/phases/06-routing-foundation/06-01-SUMMARY.md
@.planning/phases/06-routing-foundation/06-02-SUMMARY.md
@src/App.jsx
@src/components/BlogNavbar.jsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create blog page components</name>
  <files>src/pages/BlogIndex.jsx, src/pages/BlogPost.jsx, src/pages/Blog404.jsx, src/styles/styles.scss</files>
  <action>
    1. Create `src/pages/BlogIndex.jsx`:
       ```jsx
       import BlogNavbar from '../components/BlogNavbar'

       const BlogIndex = () => {
         return (
           <>
             <BlogNavbar />
             <main className="blog-page">
               <div className="blog-container">
                 <h1>Blog</h1>
                 <p className="blog-placeholder">
                   Blog posts coming soon. Check back later!
                 </p>
               </div>
             </main>
           </>
         )
       }

       export default BlogIndex
       ```

    2. Create `src/pages/BlogPost.jsx`:
       ```jsx
       import { useParams, Link } from 'react-router-dom'
       import BlogNavbar from '../components/BlogNavbar'

       const BlogPost = () => {
         const { slug } = useParams()

         return (
           <>
             <BlogNavbar />
             <main className="blog-page">
               <div className="blog-container">
                 <Link to="/blog" className="blog-back-link">
                   &larr; Back to Blog
                 </Link>
                 <h1>Blog Post: {slug}</h1>
                 <p className="blog-placeholder">
                   This post doesn't exist yet. Content will be added in Phase 7-9.
                 </p>
               </div>
             </main>
           </>
         )
       }

       export default BlogPost
       ```

    3. Create `src/pages/Blog404.jsx`:
       ```jsx
       import { Link } from 'react-router-dom'
       import BlogNavbar from '../components/BlogNavbar'

       const Blog404 = () => {
         return (
           <>
             <BlogNavbar />
             <main className="blog-page blog-404">
               <div className="blog-container">
                 <h1>Oops!</h1>
                 <p>That post doesn't exist. Maybe it was moved, or maybe you made a typo.</p>
                 <Link to="/blog" className="blog-404-link">
                   &larr; Head back to the blog
                 </Link>
               </div>
             </main>
           </>
         )
       }

       export default Blog404
       ```

    4. Add blog page styles to `src/styles/styles.scss`:
       ```scss
       // Blog Pages
       .blog-page {
         min-height: 100vh;
         padding-top: 80px; // Account for fixed navbar
         background: var(--bg-primary);
       }

       .blog-container {
         max-width: 800px;
         margin: 0 auto;
         padding: 2rem;
       }

       .blog-page h1 {
         color: var(--text-primary);
         margin-bottom: 1rem;
       }

       .blog-placeholder {
         color: var(--text-secondary);
         font-size: 1.125rem;
       }

       .blog-back-link {
         display: inline-block;
         color: var(--accent);
         text-decoration: none;
         margin-bottom: 2rem;
         transition: opacity 0.2s ease;

         &:hover {
           opacity: 0.8;
         }
       }

       .blog-404 {
         text-align: center;
         padding-top: 120px;
       }

       .blog-404-link {
         display: inline-block;
         margin-top: 1.5rem;
         color: var(--accent);
         text-decoration: none;
         font-weight: 500;

         &:hover {
           text-decoration: underline;
         }
       }
       ```
  </action>
  <verify>
    Files exist:
    - src/pages/BlogIndex.jsx
    - src/pages/BlogPost.jsx
    - src/pages/Blog404.jsx
    Run `npm run build` - no compilation errors.
  </verify>
  <done>Three blog page components created with BlogNavbar, appropriate content, and styled using CSS variables for theme support.</done>
</task>

<task type="auto">
  <name>Task 2: Add route transition and scroll-to-top behavior</name>
  <files>src/components/RouteTransition.jsx, src/App.jsx, src/styles/styles.scss</files>
  <action>
    1. Create `src/components/RouteTransition.jsx`:
       A wrapper that provides the "page-load feel" via brief fade transition.

       ```jsx
       import { useEffect, useState } from 'react'
       import { useLocation } from 'react-router-dom'

       const RouteTransition = ({ children }) => {
         const location = useLocation()
         const [isTransitioning, setIsTransitioning] = useState(false)
         const [displayLocation, setDisplayLocation] = useState(location)

         useEffect(() => {
           if (location.pathname !== displayLocation.pathname) {
             // Start transition (fade out)
             setIsTransitioning(true)

             // After fade out, update location and scroll to top
             const timeout = setTimeout(() => {
               setDisplayLocation(location)
               window.scrollTo(0, 0)

               // Brief pause then fade in
               setTimeout(() => {
                 setIsTransitioning(false)
               }, 50)
             }, 150)

             return () => clearTimeout(timeout)
           }
         }, [location, displayLocation])

         return (
           <div className={`route-transition ${isTransitioning ? 'transitioning' : ''}`}>
             {children}
           </div>
         )
       }

       export default RouteTransition
       ```

       This gives ~200ms total transition: 150ms fade out, instant location change + scroll, 50ms fade in.
       Feels like a page load but faster.

    2. Update `src/App.jsx`:
       - Import RouteTransition
       - Import actual page components: BlogIndex, BlogPost, Blog404
       - Wrap Routes with RouteTransition (inside BrowserRouter, around Routes)
       - Update route elements to use actual components:
         - path="/blog" element={<BlogIndex />}
         - path="/blog/:slug" element={<BlogPost />}
         - path="*" element={<Blog404 />} for blog catch-all

       Note on 404 routing: We want Blog404 only for /blog/* URLs, not all 404s.
       Structure:
       ```jsx
       <Routes>
         <Route path="/" element={<Portfolio />} />
         <Route path="/blog" element={<BlogIndex />} />
         <Route path="/blog/:slug" element={<BlogPost />} />
         <Route path="*" element={<Blog404 />} />
       </Routes>
       ```

       The catch-all shows Blog404 which links to /blog. For a generic site 404, we'd want something different, but since the only non-portfolio routes are blog routes, this is fine.

    3. Add transition styles to `src/styles/styles.scss`:
       ```scss
       // Route Transitions
       .route-transition {
         opacity: 1;
         transition: opacity 0.15s ease-in-out;
       }

       .route-transition.transitioning {
         opacity: 0;
       }
       ```
  </action>
  <verify>
    Run `npm run dev`:
    1. Navigate from / to /blog - brief fade transition visible
    2. Navigate from /blog to /blog/test-slug - transition visible
    3. Navigate from /blog/test-slug back to / - transition visible, scrolls to top
    4. Navigate to /nonexistent - shows Blog404 with link to blog
    5. Browser back/forward buttons work correctly
  </verify>
  <done>RouteTransition wrapper provides fade effect and scroll-to-top. All routes use actual page components. Navigation feels like page loads (not instant SPA swap).</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
    Complete routing foundation with:
    - React Router installed and configured
    - Portfolio at / with Blog link in navbar
    - Blog pages at /blog and /blog/:slug with simplified navbar
    - 404 handling for invalid URLs
    - Page transition effect with scroll-to-top
  </what-built>
  <how-to-verify>
    Run `npm run dev` and test the following flows:

    1. **Portfolio to Blog:**
       - Open http://localhost:5173/
       - Verify navbar shows: Blog | About | Projects | Experience | Contact
       - Click "Blog" - should fade to /blog page
       - Verify BlogNavbar shows: Sander Buruma | Blog | Portfolio | [theme toggle]

    2. **Blog Navigation:**
       - On /blog, click "Portfolio" - should return to homepage
       - Navigate back to /blog
       - Manually visit http://localhost:5173/blog/some-post - shows post placeholder
       - Click "Back to Blog" - returns to /blog

    3. **404 Handling:**
       - Visit http://localhost:5173/blog/this-doesnt-exist - shows Blog404
       - Click link to return to blog

    4. **Browser Navigation:**
       - Use browser back/forward buttons through the history
       - Each navigation should show transition and scroll to top

    5. **Theme Persistence:**
       - Toggle theme on portfolio
       - Navigate to blog - theme should persist
       - Toggle theme on blog
       - Navigate to portfolio - theme should persist

    6. **Anchor Links:**
       - On portfolio page, click "About" - should smooth scroll to About section
       - Click "Projects" - should smooth scroll to Projects section
  </how-to-verify>
  <resume-signal>Type "approved" if all flows work, or describe any issues found.</resume-signal>
</task>

</tasks>

<verification>
1. All blog pages render with BlogNavbar
2. Route transitions show brief fade effect
3. Navigation always scrolls to top
4. Blog404 shows for invalid URLs with friendly message
5. Theme persists across all routes
6. Browser history navigation works correctly
</verification>

<success_criteria>
- BlogIndex renders at /blog with BlogNavbar and placeholder content
- BlogPost renders at /blog/:slug with BlogNavbar and slug displayed
- Blog404 renders for invalid routes with friendly message and link to /blog
- RouteTransition provides fade effect (~200ms) between routes
- All navigations scroll to top of new page
- Anchor links (#about, etc.) still work on portfolio page
- Theme toggle works on all pages and persists
</success_criteria>

<output>
After completion, create `.planning/phases/06-routing-foundation/06-03-SUMMARY.md`
</output>

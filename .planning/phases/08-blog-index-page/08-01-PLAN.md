---
phase: 08-blog-index-page
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/pages/BlogIndex.jsx
  - src/components/BlogPostCard.jsx
  - src/components/TagFilter.jsx
  - src/components/Pagination.jsx
  - src/styles/styles.scss
autonomous: true

must_haves:
  truths:
    - "User sees list of blog posts on /blog with title, date, excerpt, and tags"
    - "User can click tag chips to filter posts (AND logic for multiple tags)"
    - "User can clear active tag filters"
    - "User sees pagination when more than 10 posts exist"
    - "Blog index is responsive on mobile"
    - "Empty state shows 'Coming soon' when no posts exist"
    - "No-results state shows message with clear-filter button"
  artifacts:
    - path: "src/pages/BlogIndex.jsx"
      provides: "Blog index page with manifest consumption, filtering, pagination"
      contains: "virtual:blog-manifest"
    - path: "src/components/BlogPostCard.jsx"
      provides: "Individual post card rendering"
      contains: "featured image, title, date, description, tags"
    - path: "src/components/TagFilter.jsx"
      provides: "Horizontal tag chip row with multi-select"
    - path: "src/components/Pagination.jsx"
      provides: "Numbered page navigation with prev/next"
    - path: "src/styles/styles.scss"
      provides: "Blog index styles using existing CSS variables"
  key_links:
    - from: "src/pages/BlogIndex.jsx"
      to: "virtual:blog-manifest"
      via: "import"
      pattern: "import.*virtual:blog-manifest"
    - from: "src/pages/BlogIndex.jsx"
      to: "src/components/BlogPostCard.jsx"
      via: "renders filtered+paginated posts"
    - from: "src/components/BlogPostCard.jsx"
      to: "tag click handler"
      via: "onClick toggles tag in parent filter state"
---

<objective>
Build the blog index page at /blog that displays post cards from the blog manifest, supports multi-tag AND filtering via clickable tag chips, and paginates at 10 posts per page.

Purpose: Users can browse and discover blog content.
Output: Fully functional blog index page with filtering and pagination.
</objective>

<execution_context>
@/home/sanderburuma/.claude/get-shit-done/workflows/execute-plan.md
@/home/sanderburuma/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/08-blog-index-page/08-CONTEXT.md
@.planning/phases/07-markdown-infrastructure/07-01-SUMMARY.md

Key facts from prior phases:
- Import blog manifest: `import posts from 'virtual:blog-manifest'`
- Each post has: slug, title, date, description, tags (array), author, readingTime, image, content
- Posts already sorted newest-first
- Existing BlogIndex.jsx is a placeholder shell with BlogNavbar already wired
- CSS variables defined in :root and [data-theme="dark"] — use them for theme compatibility
- SCSS variables: $border-radius (12px), $border-radius-sm (8px), $border-radius-pill (20px), $padding-card (2rem), $gap-default (2rem), $gap-sm (1rem)
- Single-column layout, full-width stacked cards
- Client-side filtering only, no URL query params (CONTEXT.md decision overrides roadmap SC #4)
- Multi-tag AND filtering
- Pagination: 10 posts/page, numbered pages with prev/next
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create BlogPostCard, TagFilter, and Pagination components</name>
  <files>
    src/components/BlogPostCard.jsx
    src/components/TagFilter.jsx
    src/components/Pagination.jsx
  </files>
  <action>
Create three components:

**BlogPostCard.jsx** — Renders a single post card:
- Props: `{ post, activeTags, onTagClick }`
- Shows featured image (if `post.image` exists) at top of card, skip image area entirely if none
- Title as h2 (links to `/blog/${post.slug}` using React Router Link)
- Date formatted nicely (e.g., "January 28, 2026") and reading time
- Description as excerpt paragraph
- Tag chips row at bottom — each chip is clickable, calls `onTagClick(tag)`
- Chips that are in `activeTags` should have an "active" visual state
- Use CSS variables (--text-primary, --bg-secondary, --border-color, etc.) for theme compat
- Use existing SCSS variables for spacing/radius

**TagFilter.jsx** — Horizontal tag chip bar:
- Props: `{ allTags, activeTags, onTagClick, onClear }`
- Renders horizontal scrollable row of all available tags as chips
- Active tags visually highlighted (use --primary-color)
- "Clear filters" button appears only when activeTags.length > 0
- allTags should be sorted alphabetically

**Pagination.jsx** — Page navigation:
- Props: `{ currentPage, totalPages, onPageChange }`
- Renders: Prev button, numbered page buttons, Next button
- Current page highlighted
- Prev disabled on page 1, Next disabled on last page
- Don't render at all if totalPages <= 1
  </action>
  <verify>
Files exist and export default React components. No import errors: `npm run build` succeeds (components may be unused at this point but should have no syntax errors).
  </verify>
  <done>Three reusable components created with proper props interfaces, using existing CSS variables for theme compatibility.</done>
</task>

<task type="auto">
  <name>Task 2: Wire BlogIndex page with manifest, filtering, and pagination</name>
  <files>
    src/pages/BlogIndex.jsx
    src/styles/styles.scss
  </files>
  <action>
**BlogIndex.jsx** — Replace placeholder with full implementation:
- Import posts from `virtual:blog-manifest`
- Import BlogPostCard, TagFilter, Pagination components
- Keep existing BlogNavbar import

State management:
- `activeTags` (array) — tags currently selected for filtering
- `currentPage` (number) — current pagination page, resets to 1 when filters change

Derive from state:
- `allTags` — unique tags from ALL posts (not just filtered), sorted alphabetically
- `filteredPosts` — posts where every tag in `activeTags` is in `post.tags` (AND logic). If activeTags empty, show all.
- `paginatedPosts` — slice filteredPosts for current page (10 per page)
- `totalPages` — Math.ceil(filteredPosts.length / 10)

Render structure:
1. BlogNavbar (already exists)
2. `<main className="blog-page">` (already exists)
3. Page header: "Blog" h1 + brief subtitle
4. TagFilter component (pass allTags, activeTags, handlers)
5. Post list: map paginatedPosts to BlogPostCard components
6. Empty states: if no posts at all show "Coming soon", if filtered to zero show "No posts found for these tags" with clear button
7. Pagination component at bottom

Handler functions:
- `toggleTag(tag)` — add/remove tag from activeTags, reset currentPage to 1
- `clearTags()` — set activeTags to [], reset page to 1

**styles.scss** — Add blog index styles at the end of the file:
- `.blog-container` — max-width ~800px, centered, padding
- `.blog-header` — margin bottom for header area
- `.blog-post-card` — card styling with border, shadow, border-radius, margin-bottom. Featured image should be full-width at top of card with object-fit cover and reasonable max-height (~200px).
- `.tag-chip` — small pill-shaped buttons (use $border-radius-pill), subtle bg, clickable. Active state uses --primary-color bg with white text.
- `.tag-filter-bar` — horizontal flex with gap, overflow-x auto for mobile scroll
- `.pagination` — centered flex row with gap between page buttons
- `.blog-empty-state` — centered text styling
- All styles must use CSS variables for colors (theme-compatible)
- Responsive: on mobile (<768px), reduce card padding, smaller font sizes
  </action>
  <verify>
1. `npm run build` succeeds
2. `npm run dev` — visit /blog in browser, verify posts render from manifest
3. Tag clicking filters posts
4. Pagination appears if >10 posts (may need to add test posts or verify logic with 1 post)
  </verify>
  <done>Blog index page displays posts from manifest with working tag filtering (AND logic, client-side only) and pagination. Responsive on mobile. Empty states handled.</done>
</task>

</tasks>

<verification>
1. `npm run build` completes without errors
2. Visit /blog — see blog posts with title, date, excerpt, tags
3. Click a tag chip — posts filter to only those with that tag
4. Click multiple tags — AND filtering narrows results
5. Clear filters — all posts return
6. Page is responsive (check at narrow viewport)
7. If 0 posts: "Coming soon" message
8. If filtered to 0: "No posts found" with clear button
</verification>

<success_criteria>
- Blog index page at /blog renders post cards from virtual:blog-manifest
- Post cards show featured image (when available), title, date, description, tag chips
- Multi-tag AND filtering works via clickable tag chips
- Pagination works at 10 posts per page with numbered navigation
- Responsive layout on mobile
- Empty and no-results states handled
- All styles use CSS variables for theme compatibility
</success_criteria>

<output>
After completion, create `.planning/phases/08-blog-index-page/08-01-SUMMARY.md`
</output>
